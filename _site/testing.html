<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Software Testing - MI 250</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Software Testing | MI 250</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Software Testing" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Introduction to Applied Programming: A course for non-programmers to introduce them to basic concepts of programming that are useful in careers where most of the time is not spent programming, but some technical knowledge is useful." /> <meta property="og:description" content="Introduction to Applied Programming: A course for non-programmers to introduce them to basic concepts of programming that are useful in careers where most of the time is not spent programming, but some technical knowledge is useful." /> <link rel="canonical" href="http://localhost:4000/testing.html" /> <meta property="og:url" content="http://localhost:4000/testing.html" /> <meta property="og:site_name" content="MI 250" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Software Testing" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Introduction to Applied Programming: A course for non-programmers to introduce them to basic concepts of programming that are useful in careers where most of the time is not spent programming, but some technical knowledge is useful.","headline":"Software Testing","url":"http://localhost:4000/testing.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> MI 250 </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/syllabus.html" class="nav-list-link">Syllabus</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Schedule category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/schedule.html" class="nav-list-link">Schedule</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 1 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/1.html" class="nav-list-link">Week 1</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/first_week.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/labs/installing_python.html" class="nav-list-link">Lab</a> </li><li class="nav-list-item "> <a href="/labs/intro_to_class.html" class="nav-list-link">Lab</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 2 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/2.html" class="nav-list-link">Week 2</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/variables.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/labs/control_flow.html" class="nav-list-link">Lab</a> </li><li class="nav-list-item "> <a href="/labs/mlk.html" class="nav-list-link">Lab</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 3 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/3.html" class="nav-list-link">Week 3</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/version_control.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/labs/git_and_gitlab.html" class="nav-list-link">Lab</a> </li><li class="nav-list-item "> <a href="/studios/choose_your_own_adventure.html" class="nav-list-link">Studio</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 4 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/4.html" class="nav-list-link">Week 4</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/loops.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/labs/counting_and_loops.html" class="nav-list-link">Lab</a> </li><li class="nav-list-item "> <a href="/studios/flashcards.html" class="nav-list-link">Studio</a> </li><li class="nav-list-item "> <a href="/homework/hw1_google.html" class="nav-list-link">Homework</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 5 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/5.html" class="nav-list-link">Week 5</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/drawing.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/labs/turtle.html" class="nav-list-link">Lab</a> </li><li class="nav-list-item "> <a href="/studios/flag.html" class="nav-list-link">Studio</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 6 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/6.html" class="nav-list-link">Week 6</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/lists_and_randomness.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 7 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/7.html" class="nav-list-link">Week 7</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/functions.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/homework/hw2_errors.html" class="nav-list-link">Homework</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Spring Break category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/springbreak.html" class="nav-list-link">Spring Break</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/springbreak.html" class="nav-list-link">Readings</a> </li><li class="nav-list-item "> <a href="/labs/springbreak.html" class="nav-list-link">Lab</a> </li><li class="nav-list-item "> <a href="/studios/springbreak.html" class="nav-list-link">Studio</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 8 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/8.html" class="nav-list-link">Week 8</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/dictionaries.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 9 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/9.html" class="nav-list-link">Week 9</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/modules.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 10 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/10.html" class="nav-list-link">Week 10</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/revisiting_functions.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 11 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/11.html" class="nav-list-link">Week 11</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/reading_code.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 12 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/12.html" class="nav-list-link">Week 12</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/files.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Week 13 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/13.html" class="nav-list-link">Week 13</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/apis.html" class="nav-list-link">Readings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander" aria-label="toggle links in Final Week category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/week/final.html" class="nav-list-link">Final Week</a><ul class="nav-list"><li class="nav-list-item "> <a href="/readings/final.html" class="nav-list-link">Readings</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Reference category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/reference.html" class="nav-list-link">Reference</a><ul class="nav-list "><li class="nav-list-item "><a href="/reference/turning_in_work.html" class="nav-list-link">Turning in work</a></li><li class="nav-list-item "><a href="/reference/screenshots.html" class="nav-list-link">Taking screenshots</a></li><li class="nav-list-item "><a href="/reference/command_line.html" class="nav-list-link">Using command line</a></li><li class="nav-list-item "><a href="/reference/using_git.html" class="nav-list-link">Using Git</a></li><li class="nav-list-item "><a href="/reference/error_messages.html" class="nav-list-link">Error messages</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search MI 250" aria-label="Search MI 250" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="software-testing"> <a href="#software-testing" class="anchor-heading" aria-labelledby="software-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Software Testing </h1> <h2 id="exercise-what-is-a-bug"> <a href="#exercise-what-is-a-bug" class="anchor-heading" aria-labelledby="exercise-what-is-a-bug"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Exercise: What is a bug? </h2> <p>Software testing is the process of finding and eliminating bugs in software. Take a minute and write down your answer to the question “What is a bug?”. Go ahead; I’ll wait.</p> <p>Computer programs are written with goals in mind; the program is supposed to do something specific. A bug is anytime that the program doesn’t do that. That is, a bug is anytime there is a difference between what the program is <em>supposed to do</em> and what the program <em>actually does</em>.</p> <p>As computer programs get more complicated, so do the bugs. A simple computer program often only does one thing. If it does that then, then great; it works. When you make computer programs more complicated, they have to work in a wider variety of different settings. Different people might enter in different inputs. The program has to work with different types of data. The program has to work on different computers (Mac vs. Windows) with different size screens and other differences. Bugs may appear only in some circumstances but not others – it may work fine for you on your computer, but not for me on my computer. But still, that’s a big problem for me! (AND, also, a problem for you if you want me to pay you for the computer program….)</p> <h3 id="fixing-bugs"> <a href="#fixing-bugs" class="anchor-heading" aria-labelledby="fixing-bugs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fixing Bugs </h3> <p>When people write programs, they often think that they should try to write programs that don’t have bugs. But, that’s impossible! They also think that programs aren’t done until they are bug-free. That’s also impossible! Microsoft Windows shipped with millions of known bugs that were not fixed. People still bought it and use it on a regular basis. Fixing every bug is hard, and often not worth the time and effort.</p> <p>If a bug is any time what the program <em>actually does</em> is different than what the program is <em>supposed to do</em>, then there are two ways to fix a bug:</p> <ol> <li>Change what the program actually does. Modify the code so that the program does what it is supposed to do.</li> <li>Change what the program is supposed to do. Change your idea of what the program is supposed to do and what kinds of things it can and can’t do. (and, if applicable, change the written specification)</li> </ol> <p>Both are entirely reasonable ways to fix a bug. Also, it is reasonable to choose to <em>not</em> fix a bug; just acknowledge that it exists but that it isn’t worth fixing.</p> <h2 id="why-test"> <a href="#why-test" class="anchor-heading" aria-labelledby="why-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Why Test? </h2> <p>Computer programs do not always work as the programmer intends them to. Often, I write code that I think does one thing, and then when I run it, I find out that it does something else. This is a very normal thing to happen, and every programmer experiences it on a daily basis. Testing is really an attempt to understand what your program <em>actually</em> does. Testing is a way to better understand the program that you’ve written and what it can and cannot do.</p> <p><strong>Testing</strong> is the process of trying to find bugs. Testing does not necessarily involve fixing bugs. Instead, you test your program to try to learn about the bugs that exist. This gives you the information you need to decide whether it is worth fixing the bugs or not.</p> <h3 id="automated-vs-manual-testing"> <a href="#automated-vs-manual-testing" class="anchor-heading" aria-labelledby="automated-vs-manual-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Automated vs. Manual testing </h3> <p>There are two major ways of doing testing: manually testing the program by running it and entering inputs on your own, and automated testing by writing a 2nd program that tests your 1st one.</p> <p>You are already familiar with <strong>manual testing</strong>. You do it all the time. You write code, and then you run the code and see what happens. You have some idea in your head about what the program <em>should</em> do, and then you run the program and see what the program actually does. Often, this isn’t a very structured or formalized process, but you still do it all the time. You run your program over and over, adding code and trying different inputs, to see what happens. This is manual testing.</p> <p>It is possible, and not uncommon, to do more structured manual testing. Rather than just ad-hoc running your program, you could think carefully about what kinds of inputs your program might get, and then write down a list of possible inputs. Then you could think about, for each input, what <em>should</em> the program do? Write that down next to the input. Rather than having some vague notion about what the program should do, you now have explicitly written down the expected output. Now you can run the program multiple times, and see if what the program does matches what you wrote down that it should do.</p> <p>This structured, manual testing is quite common in the real world. Large companies pay people to run these structured manual tests and figure out if the program does what it is supposed to do. Some things, like user interfaces, are difficult to test automatically, and mostly are tested this way.</p> <p>However, running through these tests manually is hard and boring work – especially if you have to do it frequently. So, programmers often do what they are good at – they write a computer program to automatically run tests and check if the program does what it is supposed to do. <strong>Automated testing</strong> invovles using one computer program to test another, and is an extremely common way to do testing. As programs get bigger and bigger, automated testing becomes more important.</p> <h3 id="regression-bugs-bugs-that-appear-later-breaking-previously-working-code"> <a href="#regression-bugs-bugs-that-appear-later-breaking-previously-working-code" class="anchor-heading" aria-labelledby="regression-bugs-bugs-that-appear-later-breaking-previously-working-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Regression bugs: bugs that appear later, breaking previously working code. </h3> <p>As you work on writing computer programs, one thing that you notice is that you change things in one place, and it affects other parts of the program. That is, it is possible (and common) that one part of the program works fine NOW, but later on you change something else and now that part no longer works. When this happens, it is called a “regression bug”.</p> <p>Regression bugs are really nasty, because they mean that you tested the program and it worked, but then later on it stopped working. The only way to catch regression bugs is to re-run all of your tests again, to make sure that the program still does everything it is supposed to. But doing that is a real pain. That’s one of the big reasons that we automate tests; it is much easier to re-run tests if they are automated and can be run with a single keystroke.</p> <h2 id="test-cases-and-automating-tests"> <a href="#test-cases-and-automating-tests" class="anchor-heading" aria-labelledby="test-cases-and-automating-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Test Cases and Automating Tests </h2> <p>In order to think about how to test software, we break our program down into test cases. Each case tests one specific feature or function of a program, and a single input to that part of the program. To test a program you’ve written, you will normally have many different test cases that test different parts of the program with different inputs. Basically, test cases break the job of software testing into discrete, managable parts.</p> <h3 id="what-is-a-test-case"> <a href="#what-is-a-test-case" class="anchor-heading" aria-labelledby="what-is-a-test-case"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What is a test case? </h3> <p>A test case is a well-specified set of inputs and expected outputs. Above, I talked about how you could write down an input to your program, and then also specify what the output should be. That is a single test case. The trick with test cases is to be very specific. You are testing a very specific, logical piece of functionality of your code with a well-defined input and well-defined expected output. If your test case is specific enough, then it should be easy for anyone to tell whether the actual output matches the expected output; that is, you can tell whether the test case “passes” or “fails”.</p> <h3 id="automated-test-cases-easy-to-run-over-and-over"> <a href="#automated-test-cases-easy-to-run-over-and-over" class="anchor-heading" aria-labelledby="automated-test-cases-easy-to-run-over-and-over"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Automated test cases: Easy to run over and over </h3> <p>When we are writing automated tests, we usually break our tests into test cases. One function executes exactly one test case, and then decides whether that test passes or fails.</p> <p>For example, let’s pretend we have a really simple function called <code class="language-plaintext highlighter-rouge">add()</code> that takes two numbers and adds them together. If I add <code class="language-plaintext highlighter-rouge">1</code> and <code class="language-plaintext highlighter-rouge">2</code> together, I would expect to get <code class="language-plaintext highlighter-rouge">3</code>, right? We can make that into a test case – if I call <code class="language-plaintext highlighter-rouge">add(1,2)</code>, then I would expect the result to be <code class="language-plaintext highlighter-rouge">3</code>.</p> <p>To do testing, we use the <code class="language-plaintext highlighter-rouge">assert</code> command in Python. Assert means to test and see if the result is what is expected. So, a really simple automated test case for the <code class="language-plaintext highlighter-rouge">add()</code> function would be:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def test_add():
	result = add(1,2)
	assert result == 3
</code></pre></div></div> <p>In this case, the code is a test because the function name starts with <code class="language-plaintext highlighter-rouge">test_</code>. It runs the <code class="language-plaintext highlighter-rouge">add()</code> function with <code class="language-plaintext highlighter-rouge">1</code> and <code class="language-plaintext highlighter-rouge">2</code> as parameters, and then stores the actual result that is calculated in a variable called <code class="language-plaintext highlighter-rouge">result</code>. Then it checks (<em>asserts</em>) that this result is equal to 3 – the expected output. If it is equal, then we say that the test case “passes”, and the result is what we expect. If it is not equal, then we say that the test “fails” because it is not what we expected.</p> <p>This is a single test case. If I wanted to test a different set of inputs, that would be a separate test case. So if I also wanted to check that adding <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">0</code> results in <code class="language-plaintext highlighter-rouge">0</code>, here is a second test case:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def test_add_zero():
	result = add(0,0)
	assert result == 0
</code></pre></div></div> <h3 id="testing-harness-runs-a-collection-of-test-cases-and-produce-output-reports"> <a href="#testing-harness-runs-a-collection-of-test-cases-and-produce-output-reports" class="anchor-heading" aria-labelledby="testing-harness-runs-a-collection-of-test-cases-and-produce-output-reports"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing harness: runs a collection of test cases and produce output reports </h3> <p>Now we have more than one automated test case. What if we want to run all of these tests, and collect the results into a single output that is easy to read? That is the job of a <em>test harness</em>: a program that runs automated tests for us and reports on their results. In python, a common test harness that is built in is called <strong>UnitTest</strong>. There are other ones that are commonly used also, such as <strong>pytest</strong> or <strong>nose</strong>.</p> <h2 id="types-of-tests"> <a href="#types-of-tests" class="anchor-heading" aria-labelledby="types-of-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Types of Tests </h2> <p>Most software has a large number of tests associated with it. It is not uncommon for the test code to be more lines of code than the code that is being tested. Now, the next question is what kinds of test cases should we create? How do we think about what to test?</p> <p>What follows is one way to think about what to test. It is not the best way, and it is certainly not the only way. But it is a useful way to organize your thinking.</p> <p>To help illustrate, I will be writing tests for a function that generate <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci numbers</a> – a sequence of numbers that goes 1, 1, 2, 3, 5, 8, 13, 21, 34… Each number in the sequence is the sum of the two previous numbers. The function takes as a parameter which number in the sequence it should generate (the 1st number, or 3rd number, or what), and it returns that number. Here is an implementation of that function:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def fib(n):
	if n &lt;= 2:
		return 1
	return (fib(n-1) + fib(n-2))
</code></pre></div></div> <p>For the first two numbers (n=1 and n=2), it returns a hard coded 1. For each number after that, it calculates the two previous numbers and adds them together.</p> <p>This is just an example function. We could write tests for almost any function we create.</p> <h3 id="level-0-basic-functionality"> <a href="#level-0-basic-functionality" class="anchor-heading" aria-labelledby="level-0-basic-functionality"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Level 0: Basic Functionality </h3> <p>The first types of test cases that I write are called “Level 0” tests. These test the most basic functionality; if these fail then the function is hopelessly broken and needs to be fixed. Level 0 tests should test the one or two most common use cases of a function to make sure that it works correctly with completely normal input.</p> <p>For the Fibonacci function, a very normal use is to ask it for the 3rd or 4th number. Let’s pick one – the 4th number. Looking at the Wikipedia page for Fibonacci nunbers, it looks like 4th number is <code class="language-plaintext highlighter-rouge">3</code>. So we would expect <code class="language-plaintext highlighter-rouge">fib(4)</code> to result in 3. We can write this as a test case:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>### Level 0 tests
def test_fib_3():
	assert fib(4) == 3
</code></pre></div></div> <p>Usually we don’t have many level 0 tests. We write level 0 tests just to check and make sure that the most basic funcationality works. If there is a syntax error, or if <code class="language-plaintext highlighter-rouge">fib()</code> does something unrelated to Fibonacci numbers, or if I forgot to write the code for <code class="language-plaintext highlighter-rouge">fib()</code>, then this test will catch that. All it does it make sure that the most normal, basic way of using the function works.</p> <h3 id="level-1-full-range-of-functionality-and-edge-cases"> <a href="#level-1-full-range-of-functionality-and-edge-cases" class="anchor-heading" aria-labelledby="level-1-full-range-of-functionality-and-edge-cases"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Level 1: Full Range of Functionality and Edge Cases </h3> <p>Once the Level 0 tests are passing, we know that the basic function works. The next thing I do is write Level 1 tests. These tests look at the full range of functionality to try to identify what are the edge cases and different types of inputs that the function should handle. We should use our knowledge of the function to try to identify tricky cases, and test those to make sure they work. However, all of the Level 1 test cases should be <em>valid</em> cases, in that they ask the function to do things that it normally would be expected to do.</p> <p>For the <code class="language-plaintext highlighter-rouge">fib()</code> function, what are some tricky cases that it needs to handle? Well, the first two Fibonacci numbers are always tricky, because they are different than the others. The first number should be <code class="language-plaintext highlighter-rouge">1</code>, and the second number should also be <code class="language-plaintext highlighter-rouge">1</code>. Let’s write a couple of tests for those:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Level 1 tests
def test_fib_1:
	assert fib(1) == 1

def test_fib_2:
	assert fib(2) == 1
</code></pre></div></div> <p>Are there any other trick cases? Let’s pick a higher nunber, and make sure that it does calculations accurately. Looking at the Wikipedia page for <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci numbers</a>, the 10th number is <code class="language-plaintext highlighter-rouge">55</code>. So let’s check that to make sure it calculates larger and more complicated numbers correctly:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>def test_fib_10():
	assert fib(10) == 55
</code></pre></div></div> <p>Ideally, you want to keep writing Level 1 tests until you’ve tests the full range of valid inputs – long inputs, short inputs, big numbers, small numbers, blanks, etc. Everything that is valid, you should write a test for to make sure that it works.</p> <h3 id="level-2-error-conditions"> <a href="#level-2-error-conditions" class="anchor-heading" aria-labelledby="level-2-error-conditions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Level 2: Error conditions </h3> <p>Almost all programs have invalid inputs – inputs that are considered to not be legitimate. However, sometimes the user ends up providing an invalid input. Good programs detect that the input is invalid, and handle it appropriately (for example, by displaying an error message).</p> <p>Level 2 tests test these invalid inputs. They intentionally provide invalid inputs to the program, and then check to make sure that the program does something reasonable with that input.</p> <p>For example, the <code class="language-plaintext highlighter-rouge">fib()</code> function only really produces sensible outputs for positve, whole numbers. If you enter a negative number, or if you give it a fraction, it doesn’t know what to do.</p> <p>What should it do? Often, when writing test cases, you realize that you don’t know what a program <em>should</em> do. If a bug is when what the program <em>actually</em> does is different than what the program <em>should</em> do, then it is a problem if you don’t know what the program should do!</p> <p>This is surprisingly common, to not know what the program should do. This is another benefit of testing – it forces us to think through all of the things that can happen, and try to figure out what we want to the program to do in each of these situations. For the Fibonacci function, what do we want the program to do if it gets an invalid input? Let’s say that is <em>should</em> throw an <code class="language-plaintext highlighter-rouge">IndexError</code> any time it gets an invalid input.</p> <p>Now that we know what it should do, we can write some tests for some invalid inputs. We can use <code class="language-plaintext highlighter-rouge">pytest.raises()</code> to check and make sure that that error is raised. The test fails if it does NOT raise that error, and it passes if it does create that error:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Level 2 tests
def test_fib_negative():
	with pytest.raises(IndexError):
		fib(-1)

def test_fib_fraction():
	with pytest.raises(IndexError):
		fib(2.5)

def test_fib_string():
	with pytest.raises(IndexError):
		fib("hi")
</code></pre></div></div> <p>If you run these tests with our <code class="language-plaintext highlighter-rouge">fib()</code> code above, you’ll see that these Level 2 tests fail! Uh oh! We have found some bugs in our code – it doesn’t handle error conditions very well. First, we need to decide if we care – is this a bug that is worth our time fixing? If it is, then we need to change our <code class="language-plaintext highlighter-rouge">fib()</code> code to make it do the right thing.</p> <h3 id="level-3-performance-and-scalability"> <a href="#level-3-performance-and-scalability" class="anchor-heading" aria-labelledby="level-3-performance-and-scalability"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Level 3: Performance and Scalability </h3> <p>Once all of the tests for Levels 0, 1 and 2 are passing, then the program mostly works correctly – it does what it is supposed to do. However, that’s not quite enough. There are usually other goals that programs have – for example, running fast enough that the user doesn’t get bored. Level 3 tests test these other, non-correctness features of programs.</p> <p>For example, it is a problem if it takes minutes to calculate our Fibonacci number. That’s not good. The computer should be able to calculate it in less than 10 seconds. So let’s write a test to check this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Level 3 tests
def test_fib_speed():
    start = datetime.datetime.now()
    out = fib(40)
    end = datetime.datetime.now()
    assert (end-start).total_seconds() &lt; 10  # It should take less than 10 seconds to compute
</code></pre></div></div> <h3 id="example"> <a href="#example" class="anchor-heading" aria-labelledby="example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h3> <p>You can download these examples <a href="fib.py">here</a>. This file contains the basic <code class="language-plaintext highlighter-rouge">fib()</code> function, and all of the tests listed above. To run it, use the command:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest fib.py
</code></pre></div></div> <p>OR, alternatively, you can run it with</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 -m pytest fib.py
</code></pre></div></div> <p>When you run it, you should see that four of the test fail! Our <code class="language-plaintext highlighter-rouge">fib()</code> function only passes half of the tests. As an exercise, can you fix it so that all the tests pass? (<a href="fib_improved.py">Solution</a>)</p> <h2 id="testing-an-application"> <a href="#testing-an-application" class="anchor-heading" aria-labelledby="testing-an-application"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing an Application </h2> <p>When testing a whole program or large application, there are some additional considerations. Specifically, it is really valuable to distinguish between <em>unit tests</em> and <em>integration tests</em>.</p> <h3 id="unit-tests"> <a href="#unit-tests" class="anchor-heading" aria-labelledby="unit-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Unit tests </h3> <p>Most programs are split up into smaller, logical units of functionality. A unit test tests a single, small unit of functionality. Often, we do this with functions; a unit test can test that a function works correctly. All of the tests we wrote above for the <code class="language-plaintext highlighter-rouge">fib()</code> function are unit tests – they test a small unit of functionality that is (most likely) part of a larger program.</p> <p>Unit tests are very common, and the majority of automated tests that are written are unit tests. Unit tests are great for catching regression bugs and for helping us to think through program and make sure that we cover everything it is supposed to be able to do.</p> <h3 id="integration-tests"> <a href="#integration-tests" class="anchor-heading" aria-labelledby="integration-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration tests </h3> <p>However, it is possible that all of the individual pieces work correctly on their own, but that they don’t fit together properly. That is where integration tests come in. Integration tests look at the program as a whole, and make sure that the pieces all fit together properly in a way that works.</p> <p>The most common way to create an integration test is a <em>user script</em> – write a script of what the user would do when using the application as a whole, and then annotate the script with what is expected to happen at each stage. User scripts can capture the overall functionality of a program in a way that unit tests don’t.</p> <p>Integration tests can be automated, and many good integration tests are. But often, we also do integration tests as manual tests, running through the application and making sure that it works as a whole.</p> <h4 id="exercise"> <a href="#exercise" class="anchor-heading" aria-labelledby="exercise"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Exercise </h4> <p>Choose an application you wrote recently. Write an integration test case – a script for a user going through a process, and the detailed output expected.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
